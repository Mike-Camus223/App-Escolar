<div class="real">
  <div class="masked">
    <svg width="100%" height="100%" id="svg" viewBox="0 0 1440 590" xmlns="http://www.w3.org/2000/svg"
      class="transition duration-300 ease-in-out delay-150">
      <style>
        .path-0 {
          animation: pathAnim-0 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }

        @keyframes pathAnim-0 {
          0% {
            d: path("M 0,600 L 0,112 C 74.21298522844384,106.94950188938509 148.42597045688768,101.89900377877018 208,92 C 267.5740295431123,82.10099622122982 312.50910340089314,67.35348677430436 390,86 C 467.49089659910686,104.64651322569564 577.5376159395397,156.6870491240124 645,163 C 712.4623840604603,169.3129508759876 737.3404328409482,129.89831672964618 800,114 C 862.6595671590518,98.10168327035383 963.1006526966678,105.71968395740296 1048,120 C 1132.8993473033322,134.28031604259704 1202.2569563723805,155.222947440742 1265,155 C 1327.7430436276195,154.777052559258 1383.8715218138097,133.388526279629 1440,112 L 1440,600 L 0,600 Z");
          }

          25% {
            d: path("M 0,600 L 0,112 C 48.83201648917897,134.54689110271386 97.66403297835794,157.0937822054277 170,149 C 242.33596702164206,140.9062177945723 338.17588457574715,102.1717622810031 410,92 C 481.82411542425285,81.8282377189969 529.6324287186534,100.21916867055995 600,109 C 670.3675712813466,117.78083132944005 763.2944005496392,116.95156303675714 828,108 C 892.7055994503608,99.04843696324286 929.1899690827897,81.97457918241153 1003,91 C 1076.8100309172103,100.02542081758847 1187.945723119203,135.1501202335967 1267,143 C 1346.054276880797,150.8498797664033 1393.0271384403986,131.42493988320166 1440,112 L 1440,600 L 0,600 Z");
          }

          50% {
            d: path("M 0,600 L 0,112 C 88.64307798007556,107.7828924768121 177.28615596015112,103.56578495362419 242,111 C 306.7138440398489,118.43421504637581 347.49845413947094,137.51975266231537 414,144 C 480.50154586052906,150.48024733768463 572.7200274819651,144.3552043971144 645,152 C 717.2799725180349,159.6447956028856 769.6214359326692,181.0594297492271 820,164 C 870.3785640673308,146.9405702507729 918.7942287873582,91.40707660597732 995,88 C 1071.2057712126418,84.59292339402268 1175.2016489178977,133.3122638268636 1254,146 C 1332.7983510821023,158.6877361731364 1386.3991755410511,135.3438680865682 1440,112 L 1440,600 L 0,600 Z");
          }

          75% {
            d: path("M 0,600 L 0,112 C 54.69735486087254,139.88526279628994 109.39470972174507,167.77052559257987 186,155 C 262.6052902782549,142.22947440742013 361.1185159738922,88.80316042597047 434,70 C 506.8814840261078,51.19683957402953 554.1312263826864,67.01683270353831 619,91 C 683.8687736173136,114.98316729646169 766.3565784953624,147.12950875987633 845,150 C 923.6434215046376,152.87049124012367 998.442459635864,126.46513225695637 1065,103 C 1131.557540364136,79.53486774304363 1189.8735829611817,59.00996221229818 1251,61 C 1312.1264170388183,62.99003778770182 1376.0632085194093,87.49501889385091 1440,112 L 1440,600 L 0,600 Z");
          }

          100% {
            d: path("M 0,600 L 0,112 C 74.21298522844384,106.94950188938509 148.42597045688768,101.89900377877018 208,92 C 267.5740295431123,82.10099622122982 312.50910340089314,67.35348677430436 390,86 C 467.49089659910686,104.64651322569564 577.5376159395397,156.6870491240124 645,163 C 712.4623840604603,169.3129508759876 737.3404328409482,129.89831672964618 800,114 C 862.6595671590518,98.10168327035383 963.1006526966678,105.71968395740296 1048,120 C 1132.8993473033322,134.28031604259704 1202.2569563723805,155.222947440742 1265,155 C 1327.7430436276195,154.777052559258 1383.8715218138097,133.388526279629 1440,112 L 1440,600 L 0,600 Z");
          }
        }
      </style>
      <path
        d="M 0,600 L 0,112 C 74.21298522844384,106.94950188938509 148.42597045688768,101.89900377877018 208,92 C 267.5740295431123,82.10099622122982 312.50910340089314,67.35348677430436 390,86 C 467.49089659910686,104.64651322569564 577.5376159395397,156.6870491240124 645,163 C 712.4623840604603,169.3129508759876 737.3404328409482,129.89831672964618 800,114 C 862.6595671590518,98.10168327035383 963.1006526966678,105.71968395740296 1048,120 C 1132.8993473033322,134.28031604259704 1202.2569563723805,155.222947440742 1265,155 C 1327.7430436276195,154.777052559258 1383.8715218138097,133.388526279629 1440,112 L 1440,600 L 0,600 Z"
        stroke="none" stroke-width="0" fill="#2d5555" fill-opacity="0.4"
        class="transition-all duration-300 ease-in-out delay-150 path-0"></path>
      <style>
        .path-1 {
          animation: pathAnim-1 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }

        @keyframes pathAnim-1 {
          0% {
            d: path("M 0,600 L 0,262 C 56.028856063208536,270.83132944005496 112.05771212641707,279.6626588801099 193,267 C 273.9422878735829,254.33734111989006 379.79800755754025,220.18069391961524 447,226 C 514.2019924424598,231.81930608038476 542.7502576434216,277.6145654414291 596,303 C 649.2497423565784,328.3854345585709 727.2009618687736,333.3610443146685 800,311 C 872.7990381312264,288.6389556853315 940.445894881484,238.94125729989693 1010,220 C 1079.554105118516,201.05874270010307 1151.0154586052902,212.8739264857437 1223,225 C 1294.9845413947098,237.1260735142563 1367.4922706973548,249.56303675712815 1440,262 L 1440,600 L 0,600 Z");
          }

          25% {
            d: path("M 0,600 L 0,262 C 58.3613878392305,280.5221573342494 116.722775678461,299.04431466849877 189,288 C 261.277224321539,276.95568533150123 347.4702851253864,236.34489866025422 428,227 C 508.5297148746136,217.65510133974578 583.3960838199931,239.57609069048436 651,260 C 718.6039161800069,280.42390930951564 778.945379594641,299.35073857780833 847,303 C 915.054620405359,306.64926142219167 990.8223978014428,295.0209549982824 1064,292 C 1137.1776021985572,288.9790450017176 1207.7650291995878,294.56544142906216 1270,291 C 1332.2349708004122,287.43455857093784 1386.117485400206,274.7172792854689 1440,262 L 1440,600 L 0,600 Z");
          }

          50% {
            d: path("M 0,600 L 0,262 C 77.40638955685333,245.79113706630025 154.81277911370665,229.5822741326005 233,222 C 311.18722088629335,214.4177258673995 390.1552731020267,215.46204053589832 447,227 C 503.8447268979733,238.53795946410168 538.5661284781862,260.5695637238062 606,277 C 673.4338715218138,293.4304362761938 773.5802129852284,304.2597045688767 850,299 C 926.4197870147716,293.7402954311233 979.1130195809001,272.39161800068706 1039,264 C 1098.8869804191,255.60838199931294 1165.9677086911713,260.1738234283751 1234,262 C 1302.0322913088287,263.8261765716249 1371.0161456544142,262.9130882858125 1440,262 L 1440,600 L 0,600 Z");
          }

          75% {
            d: path("M 0,600 L 0,262 C 59.724493301271025,289.54036413603575 119.44898660254205,317.0807282720715 195,309 C 270.55101339745795,300.9192717279285 361.9285468911027,257.21745104774993 426,258 C 490.0714531088973,258.78254895225007 526.8368258330471,304.04946753692894 600,309 C 673.1631741669529,313.95053246307106 782.724149776709,278.5846788045345 849,252 C 915.275850223291,225.4153211954655 938.2665750601168,207.611817244933 1004,206 C 1069.7334249398832,204.388182755067 1178.2095499828235,218.96805221573342 1258,231 C 1337.7904500171765,243.03194778426658 1388.895225008588,252.51597389213327 1440,262 L 1440,600 L 0,600 Z");
          }

          100% {
            d: path("M 0,600 L 0,262 C 56.028856063208536,270.83132944005496 112.05771212641707,279.6626588801099 193,267 C 273.9422878735829,254.33734111989006 379.79800755754025,220.18069391961524 447,226 C 514.2019924424598,231.81930608038476 542.7502576434216,277.6145654414291 596,303 C 649.2497423565784,328.3854345585709 727.2009618687736,333.3610443146685 800,311 C 872.7990381312264,288.6389556853315 940.445894881484,238.94125729989693 1010,220 C 1079.554105118516,201.05874270010307 1151.0154586052902,212.8739264857437 1223,225 C 1294.9845413947098,237.1260735142563 1367.4922706973548,249.56303675712815 1440,262 L 1440,600 L 0,600 Z");
          }
        }
      </style>
      <path
        d="M 0,600 L 0,262 C 56.028856063208536,270.83132944005496 112.05771212641707,279.6626588801099 193,267 C 273.9422878735829,254.33734111989006 379.79800755754025,220.18069391961524 447,226 C 514.2019924424598,231.81930608038476 542.7502576434216,277.6145654414291 596,303 C 649.2497423565784,328.3854345585709 727.2009618687736,333.3610443146685 800,311 C 872.7990381312264,288.6389556853315 940.445894881484,238.94125729989693 1010,220 C 1079.554105118516,201.05874270010307 1151.0154586052902,212.8739264857437 1223,225 C 1294.9845413947098,237.1260735142563 1367.4922706973548,249.56303675712815 1440,262 L 1440,600 L 0,600 Z"
        stroke="none" stroke-width="0" fill="#2d5555" fill-opacity="0.53"
        class="transition-all duration-300 ease-in-out delay-150 path-1"></path>
      <style>
        .path-2 {
          animation: pathAnim-2 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }

        @keyframes pathAnim-2 {
          0% {
            d: path("M 0,600 L 0,412 C 81.67296461697012,425.33631054620406 163.34592923394024,438.6726210924081 233,419 C 302.65407076605976,399.3273789075919 360.2892476812092,346.6458261765716 414,359 C 467.7107523187908,371.3541738234284 517.497080041223,448.7440742013055 592,465 C 666.502919958777,481.2559257986945 765.722432153899,436.37787701820673 832,426 C 898.277567846101,415.62212298179327 931.6131913431809,439.7444177258674 1001,438 C 1070.386808656819,436.2555822741326 1175.8248024733766,408.64445207832364 1255,400 C 1334.1751975266234,391.35554792167636 1387.0875987633117,401.6777739608382 1440,412 L 1440,600 L 0,600 Z");
          }

          25% {
            d: path("M 0,600 L 0,412 C 55.86602542081758,402.02885606320854 111.73205084163516,392.057712126417 180,382 C 248.26794915836484,371.942287873583 328.937822054277,361.79800755754036 415,374 C 501.062177945723,386.20199244245964 592.5166609412573,420.7502576434215 654,431 C 715.4833390587427,441.2497423565785 746.9955341806941,427.2009618687736 814,429 C 881.0044658193059,430.7990381312264 983.501202335967,448.445894881484 1064,449 C 1144.498797664033,449.554105118516 1202.9996564754379,433.0154586052903 1262,424 C 1321.0003435245621,414.9845413947097 1380.500171762281,413.49227069735485 1440,412 L 1440,600 L 0,600 Z");
          }

          50% {
            d: path("M 0,600 L 0,412 C 78.8052215733425,408.21435932669186 157.610443146685,404.4287186533837 225,399 C 292.389556853315,393.5712813466163 348.3634489866026,386.49948471315696 401,396 C 453.6365510133974,405.50051528684304 502.93576090690476,431.5733424939884 580,437 C 657.0642390930952,442.4266575060116 761.8935073857782,427.2071453108897 847,432 C 932.1064926142218,436.7928546891103 997.4902095499831,461.59807626245276 1048,454 C 1098.509790450017,446.40192373754724 1134.1456544142907,406.4005496392992 1197,394 C 1259.8543455857093,381.5994503607008 1349.9271727928547,396.7997251803504 1440,412 L 1440,600 L 0,600 Z");
          }

          75% {
            d: path("M 0,600 L 0,412 C 84.28443833734113,412.7619374785297 168.56887667468226,413.52387495705943 228,413 C 287.43112332531774,412.47612504294057 322.0089316386121,410.6664376502919 391,420 C 459.9910683613879,429.3335623497081 563.3953967708692,449.81037444177264 640,452 C 716.6046032291308,454.18962555822736 766.4094812779114,438.09206458261764 835,416 C 903.5905187220886,393.90793541738236 990.9666781174853,365.82136722775675 1055,359 C 1119.0333218825147,352.17863277224325 1159.723806252147,366.6224665063552 1220,379 C 1280.276193747853,391.3775334936448 1360.1380968739265,401.6887667468224 1440,412 L 1440,600 L 0,600 Z");
          }

          100% {
            d: path("M 0,600 L 0,412 C 81.67296461697012,425.33631054620406 163.34592923394024,438.6726210924081 233,419 C 302.65407076605976,399.3273789075919 360.2892476812092,346.6458261765716 414,359 C 467.7107523187908,371.3541738234284 517.497080041223,448.7440742013055 592,465 C 666.502919958777,481.2559257986945 765.722432153899,436.37787701820673 832,426 C 898.277567846101,415.62212298179327 931.6131913431809,439.7444177258674 1001,438 C 1070.386808656819,436.2555822741326 1175.8248024733766,408.64445207832364 1255,400 C 1334.1751975266234,391.35554792167636 1387.0875987633117,401.6777739608382 1440,412 L 1440,600 L 0,600 Z");
          }
        }
      </style>
      <path
        d="M 0,600 L 0,412 C 81.67296461697012,425.33631054620406 163.34592923394024,438.6726210924081 233,419 C 302.65407076605976,399.3273789075919 360.2892476812092,346.6458261765716 414,359 C 467.7107523187908,371.3541738234284 517.497080041223,448.7440742013055 592,465 C 666.502919958777,481.2559257986945 765.722432153899,436.37787701820673 832,426 C 898.277567846101,415.62212298179327 931.6131913431809,439.7444177258674 1001,438 C 1070.386808656819,436.2555822741326 1175.8248024733766,408.64445207832364 1255,400 C 1334.1751975266234,391.35554792167636 1387.0875987633117,401.6777739608382 1440,412 L 1440,600 L 0,600 Z"
        stroke="none" stroke-width="0" fill="#2d5555" fill-opacity="1"
        class="transition-all duration-300 ease-in-out delay-150 path-2"></path>
    </svg>
  </div>
  <div class="card-register w-100">
    <mat-card class="w-50 p-3 card-registro">
      <mat-card-header class="d-flex justify-content-center">
        <h2 class="fs-1 nunito mb-0">Registrate</h2>
      </mat-card-header>
      <mat-card-content>
        <mat-stepper linear #stepper>
          <mat-step [stepControl]="firstFormGroup" [editable]="isEditable" label="Nombre" state="nombre">
            <form [formGroup]="firstFormGroup" class="d-flex flex-column gap-4">
              <div>
                <ng-template matStepLabel>
                  <span class="step-label-large nunito fs-4">Complete su nombre</span>
                </ng-template>
              </div>
              <div class="d-flex flex-column gap-3">
                <mat-form-field>
                  <mat-label class="nunito fs-4">Nombre</mat-label>
                  <input (input)="Oninput()" class="nunito fs-4" matInput formControlName="nombre" placeholder="Nombre" required>
                  <mat-error *ngIf="firstFormGroup.get('nombre')?.hasError('required')" class="nunito fs-4">
                    Rellenar este campo es obligatorio.
                  </mat-error>
                  <mat-error *ngIf="firstFormGroup.get('nombre')?.hasError('maxlength')" class="nunito fs-4">
                    El nombre puede tener un máximo de 40 caracteres.
                  </mat-error>
                </mat-form-field>
                <mat-form-field>
                  <mat-label class="nunito fs-4">Apellido</mat-label>
                  <input class="nunito fs-4" matInput formControlName="apellido" placeholder="Apellido" required>
                  <mat-error *ngIf="firstFormGroup.get('apellido')?.hasError('required')" class="nunito fs-4">
                    Rellenar este campo es obligatorio.
                  </mat-error>
                  <mat-error *ngIf="firstFormGroup.get('apellido')?.hasError('maxlength')" class="nunito fs-4">
                    El apellido puede tener un máximo de 40 caracteres.
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="pt-2 d-flex justify-content-between">
                <button class="nunito fs-4 rounded-3" mat-button matStepperNext style="background-color: #1A3636; color: #fff;">Siguiente</button>
                <a class="link-login nunito fs-4" routerLink="/auth/login">¿Ya tienes una cuenta?</a>
              </div>
            </form>
          </mat-step>
              <mat-step [stepControl]="secondFormGroup" [editable]="isEditable" label="Correo" state="correo">
            <form [formGroup]="secondFormGroup" class="d-flex flex-column gap-4">
              <div>
                <ng-template matStepLabel>
                  <span class="step-label-large nunito fs-4">Ingrese su correo y contraseña</span>
                </ng-template>
              </div>
              <div class="d-flex flex-column gap-3">
                <mat-form-field>
                  <mat-label class="nunito fs-4">Ingrese su correo</mat-label>
                  <input class="nunito fs-4" matInput formControlName="email" placeholder="Ingrese su correo" required>
                  <mat-error *ngIf="secondFormGroup.get('email')?.hasError('required')" class="nunito fs-4">
                    Rellenar este campo es obligatorio.
                  </mat-error>
                  <mat-error *ngIf="secondFormGroup.get('email')?.hasError('email')" class="nunito fs-4">
                    Por favor, ingrese una dirección de correo electrónico válida.
                  </mat-error>
                  <mat-error *ngIf="secondFormGroup.get('email')?.hasError('maxlength')" class="nunito fs-4">
                    El correo electrónico solo puede tener un máximo de 60 caracteres.
                  </mat-error>
                </mat-form-field>
                <mat-form-field>
                  <mat-label class="nunito fs-4">Ingrese una contraseña</mat-label>
                  <input class="nunito fs-4" matInput formControlName="contraseña" placeholder="Ingrese una contraseña" required>
                  <mat-error *ngIf="secondFormGroup.get('contraseña')?.hasError('required')" class="nunito fs-4">
                    Rellenar este campo es obligatorio.
                  </mat-error>
                  <mat-error *ngIf="secondFormGroup.get('contraseña')?.hasError('maxlength')" class="nunito fs-4">
                    La contraseña puede tener un máximo de 60 caracteres.
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="d-flex gap-4 pt-2">
                <button class="nunito fs-4 rounded-3" mat-button matStepperPrevious style="background-color: #1A3636; color: #fff;">Atrás</button>
                <button class="nunito fs-4 rounded-3" mat-button matStepperNext style="background-color: #1A3636; color: #fff;">Siguiente</button>
              </div>
            </form>
          </mat-step>
              <mat-step label="Confirmación" state="confirmacion">
            <div class="d-flex flex-column gap-4">
              <div>
                <ng-template matStepLabel>
                  <span class="step-label-large nunito fs-4">Ya casi listo!</span>
                </ng-template>
              </div>
              <h3 class="fs-3 nunito direpadding">Confirmación de datos</h3>
              <div class="soft-header p-3 rounded" style="background-color: #e0f7fa; border-radius: 10px;">
                <p class="nunito fs-4"><strong>Nombre:</strong> {{ firstFormGroup.get('nombre')?.value }}</p>
                <p class="nunito fs-4"><strong>Apellido:</strong> {{ firstFormGroup.get('apellido')?.value }}</p>
                <p class="nunito fs-4"><strong>Correo:</strong> {{ secondFormGroup.get('email')?.value }}</p>
                <p class="nunito fs-4"><strong>Contraseña:</strong> {{ secondFormGroup.get('contraseña')?.value }}</p>
                <mat-spinner *ngIf="isLoading" diameter="40"></mat-spinner>
              </div>
              <div class="d-flex gap-4 pt-2">
                <button class="nunito fs-4 rounded-3" style="background-color: #1A3636; color: #fff;" mat-button matStepperPrevious>Atrás</button>
                <button class="nunito fs-4 rounded-3" style="background-color: #1A3636; color: #fff;" mat-button (click)="stepper.reset()">Reiniciar</button>
                <button class="nunito fs-4 rounded-3" style="background-color: #1A3636; color: #fff;" mat-button (click)="onSubmit()">Enviar</button>
              </div>
            </div>
          </mat-step>
              <ng-template matStepperIcon="nombre">
            <mat-icon>person</mat-icon>
          </ng-template>
          <ng-template matStepperIcon="correo">
            <mat-icon>email</mat-icon>
          </ng-template>
          <ng-template matStepperIcon="confirmacion">
            <mat-icon>check_circle</mat-icon>
          </ng-template>
        </mat-stepper>
      </mat-card-content>
    </mat-card>    
  </div>
</div>